<%- include('partials/header') %>

<!-- Hero Section -->
<section class="hero">
  <div class="hero-content">
    <div class="profile-picture">
      <a href="https://wa.me/970595014779" target="_blank">
        <img src="/pictuers/Me.jpg" alt="Jihade Shtayyeh">
      </a>
    </div>
    <h1>جِهاد اشتيه</h1>
    <h2 id="age-display">Loading age...</h2>
    <h2>Software Engineering Student</h2>
    <p>An Najah National University</p>
    <div class="university-logo">
      <a href="https://www.najah.edu/en/" target="_blank">
        <img src="/pictuers/An-najah.png" alt="An-Najah National University Logo">
      </a>
    </div>
  </div>
</section>

<!-- Research Section -->
<section class="research-showcase">
  <div class="container">
    <h2>My Research</h2>
    <div class="research-grid">
      <% researchEntries.slice(0, 3).forEach(research => { %> <!-- Limit to 3 items -->
        <div class="research-card">
          <div class="pdf-cover">
            <% if (research.thumbnailUrl) { %>
              <img src="/<%= research.thumbnailUrl %>" alt="<%= research.title %> Preview" class="pdf-thumbnail">
            <% } else { %>
              <div class="pdf-placeholder">
                <i class="fas fa-file-pdf"></i>
                <span><%= research.title %></span>
              </div>
            <% } %>
          </div>
          <h3 class="research-title"><%= research.title %></h3>
          <p class="research-description"><%= research.description %></p>
          <div class="research-links">
            <a href="/<%= research.researchPdf %>" target="_blank" class="btn-link">
              <i class="fas fa-download"></i> Download PDF
            </a>
            <a href="/<%= research.researchPdf %>" target="_blank" class="btn-view">
              <i class="fas fa-eye"></i> View
            </a>
          </div>
        </div>
      <% }); %>
    </div>
    <div class="research-more">
      <a href="/myresearch" class="btn-research-more">View All Research <i class="fas fa-arrow-right"></i></a>
    </div>
  </div>
</section>

<!-- Skills Section -->
<section class="skills-showcase">
  <div class="container">
    <h2>Skills</h2>
    <div class="skills-container">
      <!-- First row of skills -->
      <div class="skills-row">
        <div class="skill-icon" title="Node.js"><i class="fab fa-node-js"></i></div>
        <div class="skill-icon" title="Go"><i class="fab fa-golang"></i></div>
        <div class="skill-icon" title="Angular"><i class="fab fa-angular"></i></div>
        <div class="skill-icon" title="Next.js"><i class="fab fa-react"></i></div>
        <div class="skill-icon" title="Laravel"><i class="fab fa-laravel"></i></div>
        <div class="skill-icon" title="C++"><i class="fab fa-cuttlefish"></i></div>
        <div class="skill-icon" title="HTML5"><i class="fab fa-html5"></i></div>
        <div class="skill-icon" title="CSS3"><i class="fab fa-css3-alt"></i></div>
        <div class="skill-icon" title="Bootstrap"><i class="fab fa-bootstrap"></i></div>
      </div>
      
      <!-- Second row of skills -->
      <div class="skills-row">
        <div class="skill-icon" title="JavaScript"><i class="fab fa-js"></i></div>
        <div class="skill-icon" title="TypeScript"><span class="ts-icon">TS</span></div>
        <div class="skill-icon" title="SQL"><i class="fas fa-database"></i></div>
        <div class="skill-icon" title="React"><i class="fab fa-react"></i></div>
        <div class="skill-icon" title="Express.js"><i class="fab fa-node"></i></div>
        <div class="skill-icon" title="Java"><i class="fab fa-java"></i></div>
        <div class="skill-icon" title="Lua"><span class="lua-icon">Lua</span></div>
        <div class="skill-icon" title="PHP"><i class="fab fa-php"></i></div>
        <div class="skill-icon" title="Python"><i class="fab fa-python"></i></div>
      </div>
      
      <!-- Third row of skills -->
      <div class="skills-row">
        <div class="skill-icon" title="Firebase"><i class="fas fa-fire"></i></div>
        <div class="skill-icon" title="MongoDB"><i class="fas fa-leaf"></i></div>
        <div class="skill-icon" title="Kafka"><i class="fas fa-server"></i></div>
        <div class="skill-icon" title="Hadoop"><i class="fas fa-database"></i></div>
        <div class="skill-icon" title="Spark"><i class="fas fa-bolt"></i></div>
        <div class="skill-icon" title="Scala"><i class="fas fa-code"></i></div>
      </div>
    </div>
  </div>
</section>

<!-- Featured Projects Section -->
<section class="research-showcase">
  <div class="container">
    <h2>Featured Projects</h2>
    <div class="projects-grid">
      <% projects.slice(0, 3).forEach(project => { %> <!-- Limit to 3 items -->
        <div class="project-card">
          <h3><%= project.title %></h3>
          <p><%= project.description %></p>

          <% if (project.videoFileId) { %>
            <!-- GridFS video -->
            <div class="video-container">
              <video controls class="project-video">
                <source src="/projects/video/<%= project.videoFileId %>" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            </div>
          <% } else if (project.videoUrl) { %>
            <!-- External video -->
            <div class="video-container">
              <iframe src="<%= project.videoUrl %>" allowfullscreen></iframe>
            </div>
          <% } %>

          <div class="project-links">
            <% if (project.githubUrl) { %>
              <a href="<%= project.githubUrl %>" target="_blank">GitHub</a>
            <% } %>
            <% if (project.projectUrl) { %>
              <a href="<%= project.projectUrl %>" target="_blank">Live Demo</a>
            <% } %>
          </div>
        </div>
      <% }); %>
      <div class="research-more">
        <a href="/projects" class="btn-research-more">View All Projects <i class="fas fa-arrow-right"></i></a>
      </div>
    </div>
  </div>
</section>

<script src="/js/ageCalculator.js"></script>

<%- include('partials/footer') %>
